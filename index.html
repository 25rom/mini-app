<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ Open Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    
    <title>–ö–∞—Ä—Ç—ã –ù–∞–º–µ—Ä–µ–Ω–∏–π</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #E0F7FA;
            font-family: 'Open Sans', sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            color: #333;
        }

        /* === –≠–ö–†–ê–ù –ü–†–ò–í–ï–¢–°–¢–í–ò–Ø === */
        #welcome-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #B2EBF2;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            transition: opacity 0.5s;
        }

        .welcome-gif {
            width: 170px; /* –†–∞–∑–º–µ—Ä –≥–∏—Ñ–∫–∏ */
            height: auto;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        .welcome-text {
            font-size: 13px;
            line-height: 1.6;
            color: #00796B;
            max-width: 320px;
            margin-bottom: 30px;
        }
        /* –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É –∞–±–∑–∞—Ü–∞–º–∏ */
        .welcome-text p {
            margin: 0 0 15px 0; /* –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É —É –∫–∞–∂–¥–æ–≥–æ –∞–±–∑–∞—Ü–∞ 15px */
            padding: 0;
        }
        
        /* –£–±–∏—Ä–∞–µ–º –æ—Ç—Å—Ç—É–ø —É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∞–±–∑–∞—Ü–∞, —á—Ç–æ–±—ã –æ–Ω –Ω–µ —Ç–æ–ª–∫–∞–ª –∫–Ω–æ–ø–∫—É */
        .welcome-text p:last-child {
            margin-bottom: 0;
        }

        /* === –ò–ì–†–û–í–ê–Ø –°–¶–ï–ù–ê === */
        #game-screen {
            flex: 1;
            display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 1s;
        }

        .scene {
            width: 300px;
            height: 120px;
            perspective: 1000px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card__face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            overflow: hidden;
        }

        .card__face--back {
            transform: rotateY(180deg);
        }

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .hint-text {
            margin-top: 15px;
            color: #8e8e93;
            font-size: 14px;
            text-align: center;
            /* –ù–û–í–û–ï: –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            opacity: 0; 
            transition: opacity 0.5s;
        }

        /* === –ö–ù–û–ü–ö–ò === */
        .btn {
            margin-top: 30px;
            padding: 16px 32px;
            border: none;
            border-radius: 16px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            -webkit-tap-highlight-color: transparent;
            width: 80%;
            max-width: 300px;
        }

        .btn-primary {
            background-color: #007aff;
            color: white;
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
        }

        .btn-primary:active {
            transform: scale(0.96);
        }

        .btn-disabled {
            background-color: #e5e5ea;
            color: #8e8e93;
            cursor: default;
            box-shadow: none;
        }

        .timer-display {
            font-family: monospace;
            font-size: 14px;
            margin-top: 5px;
        }

    </style>
</head>
<body>

    <!-- –≠–ö–†–ê–ù –ü–†–ò–í–ï–¢–°–¢–í–ò–Ø -->
    <div id="welcome-screen">
        <!-- –°–Æ–î–ê –í–°–¢–ê–í–¨ –°–°–´–õ–ö–£ –ù–ê –°–í–û–Æ –ì–ò–§–ö–£ –ò–õ–ò –ö–ê–†–¢–ò–ù–ö–£ -->
        <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExNHpydDhzaTZxbGw3azZ3eW1xcjNvb2FmdmJjY3drcTkxdWhzbG1mcyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/flqS9MxwSjkgdO5UCe/giphy.gif" class="welcome-gif" alt="Intro">
        
        <div class="welcome-text">
            <p>–°–¥–µ–ª–∞–π –≥–ª—É–±–æ–∫–∏–π –≤–¥–æ—Ö –∏ –¥–ª–∏–Ω–Ω—ã–π –≤—ã–¥–æ—Ö, –ø–æ–≤—Ç–æ—Ä–∏ 3-4 —Ü–∏–∫–ª–∞</p>
            
            <p>–†–∞—Å—Å–ª–∞–±—å –ª–∏—Ü–æ –∏ –ø–ª–µ—á–∏. –û—Ç–ø—É—Å—Ç–∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, –∂–µ–ª–∞–Ω–∏—è –∏ –æ–∂–∏–¥–∞–Ω–∏—è</p>
            
            <p>–ü—Ä–æ–¥–æ–ª–∂–∞–π –¥—ã—à–∞—Ç—å. –°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –∑–∞–ø—Ä–æ—Å–µ –∏–ª–∏ –æ—â—É—â–µ–Ω–∏–∏</p>
            
            <p>–ö–æ–≥–¥–∞ –ø–æ—á—É–≤—Å—Ç–≤—É–µ—à—å —Ç–∏—à–∏–Ω—É –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, –∂–º–∏<br><b>‚ú® –°–û-–ù–ê–°–¢–†–û–ò–¢–¨–°–Ø ‚ú®</b></p>
            
            <p>–ö–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –Ω–∞ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è</p>
            
            <p>–ü—Ä–∞–∫—Ç–∏–∫—É–π –∞—Å–∞–Ω—ã, –¥—ã—à–∏, –º–µ–¥–∏—Ç–∏—Ä—É–π ‚ú® –≤–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∫ –Ω–µ–π –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è</p>
        </div>
        
        <button class="btn btn-primary" onclick="startGame()">‚ú® –°–û-–ù–ê–°–¢–†–û–ò–¢–¨–°–Ø ‚ú®</button>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –≠–ö–†–ê–ù -->
    <div id="game-screen">
        <div class="scene" onclick="flipCard()">
            <div class="card" id="myCard">
                <div class="card__face card__face--front">
                    <img id="frontImg" src="" alt="">
                </div>
                <div class="card__face card__face--back">
                    <img id="backImg" src="" alt="">
                </div>
            </div>
        </div>

        <div class="hint-text" id="hintText">–Ω–∞–∂–º–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, —á—Ç–æ–±—ã –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å</div>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è -->
        <button id="drawBtn" class="btn btn-primary" onclick="handleDrawClick()">–≤–∑—è—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</button>
        <div id="timerDisplay" class="timer-display"></div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        // –ö—Ä–∞—Å–∏–º "—à–∞–ø–∫—É" –∏ "–¥–Ω–æ" —Å–∞–º–æ–≥–æ –¢–µ–ª–µ–≥—Ä–∞–º–∞ –≤ —Ç–≤–æ–π —Ü–≤–µ—Ç
        tg.setHeaderColor('#E0F7FA');
        tg.setBackgroundColor('#E0F7FA');
        // ==========================================
        // –ë–ê–ó–ê –ö–ê–†–¢
        // ==========================================
        const cardsDatabase = [
            { front: 'reshimost.jpg', back: 'reshimost_back.jpg' },
            { front: 'zabota.jpg', back: 'zabota_back.jpg' },
            { front: 'igrivost.jpg', back: 'igrivost_back.jpg' },
            { front: 'disciplina.jpg', back: 'back1.jpg' },
            { front: 'igrivost.jpg', back: 'igrivost_back.jpg' },
            { front: 'estestven.jpg', back: 'back2.jpg' },
            { front: 'odnorod.jpg', back: 'odnorod_back.jpg' },
            { front: 'otvaga.jpg', back: 'back2.jpg' },
            { front: 'samobyt.jpg', back: 'back2.jpg' },
            { front: 'smelost.jpg', back: 'back2.jpg' },
            { front: 'starat.jpg', back: 'back2.jpg' },
            { front: 'uporstvo.jpg', back: 'back2.jpg' },
            { front: 'vnimat.jpg', back: 'back2.jpg' },
            { front: 'zabota.jpg', back: 'back2.jpg'}
        ];

        // –ù–ê–°–¢–†–û–ô–ö–ò –í–†–ï–ú–ï–ù–ò (13.5 —á–∞—Å–æ–≤ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
        const COOLDOWN_HOURS = 13.5;
        const COOLDOWN_MS = COOLDOWN_HOURS * 60 * 60 * 1000; 

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentCardIndex = -1;
        const cardElement = document.getElementById('myCard');
        const frontImg = document.getElementById('frontImg');
        const backImg = document.getElementById('backImg');
        const drawBtn = document.getElementById('drawBtn');
        const timerDisplay = document.getElementById('timerDisplay');
        const welcomeScreen = document.getElementById('welcome-screen');
        const gameScreen = document.getElementById('game-screen');

        // === 1. –õ–û–ì–ò–ö–ê –°–¢–ê–†–¢–ê ===
        function startGame() {
            // –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
            welcomeScreen.style.opacity = '0';
            setTimeout(() => {
                welcomeScreen.style.display = 'none';
                gameScreen.style.display = 'flex';
                // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ—è–≤–ª–µ–Ω–∏–µ–º
                setTimeout(() => { gameScreen.style.opacity = '1'; }, 100);
            }, 500);
            // –í–ê–ñ–ù–û: –ó–∞–ø—É—Å–∫–∞–µ–º –ª–æ–≥–∏–∫—É –∏–≥—Ä—ã
            checkState();
            }
           // === 2. –ü–†–û–í–ï–†–ö–ê –°–û–°–¢–û–Ø–ù–ò–Ø (–ü–ê–ú–Ø–¢–¨ + –ú–ê–ì–ò–Ø 3 –°–ï–ö–£–ù–î) ===
        function checkState() {
            const lastDrawTime = localStorage.getItem('lastDrawTime');
            const savedCardIndex = localStorage.getItem('savedCardIndex');
            const now = Date.now();
            // –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–∫—Å—Ç—É –ø–æ–¥—Å–∫–∞–∑–∫–∏
            const hintText = document.getElementById('hintText');

            // –°–¶–ï–ù–ê–†–ò–ô 1: –ö–∞—Ä—Ç–∞ —É–∂–µ –≤—ã—Ç—è–Ω—É—Ç–∞ –∏ —Ç–∞–π–º–µ—Ä —Ç–∏–∫–∞–µ—Ç
            if (lastDrawTime && savedCardIndex !== null) {
                const timePassed = now - parseInt(lastDrawTime);

                if (timePassed < COOLDOWN_MS) {
                    // –í—Ä–µ–º—è –Ω–µ –≤—ã—à–ª–æ: –°—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    loadCard(parseInt(savedCardIndex));
                    lockButton(COOLDOWN_MS - timePassed);
                    
                    // –í–ê–ñ–ù–û: –ï—Å–ª–∏ –∫–∞—Ä—Ç–∞ —É–∂–µ –µ—Å—Ç—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç
                    hintText.style.opacity = '1';
                    return; 
                }
            }

           // –°–¶–ï–ù–ê–†–ò–ô 2: –ú–æ–∂–Ω–æ —Ç—è–Ω—É—Ç—å –Ω–æ–≤—É—é (–ø–µ—Ä–≤—ã–π —Ä–∞–∑ –∏–ª–∏ —Ç–∞–π–º–µ—Ä –∏—Å—Ç–µ–∫)
            unlockButton();
            
            // –í–ê–ñ–ù–û: –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤–æ –≤—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            hintText.style.opacity = '0';
            
            // 1. –°—Ç–∞–≤–∏–º –∑–∞–≥–ª—É—à–∫—É (–£–∑–æ—Ä/–ú–∞–≥–∏—é) –ü–û –¢–í–û–ï–ô –°–°–´–õ–ö–ï
            const mandalaUrl = 'https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExZzd3YnFwcXRnODU1eGJya3N0ODg2anp6M3U2dzJhbWNnbWw2aGJzMiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Pu1SRAVyJJnF70sU3r/giphy.gif';
            
            frontImg.src = mandalaUrl; 
            backImg.src = mandalaUrl; 

            // 2. –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ 4 —Å–µ–∫—É–Ω–¥—ã –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Ç–µ–∫—Å—Ç–∞
            const originalText = "–≤—ã—Ç–∞—â–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É";
            
            drawBtn.classList.add('btn-disabled'); // –î–µ–ª–∞–µ–º —Å–µ—Ä–æ–π
            drawBtn.classList.remove('btn-primary');
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –∫–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ
            drawBtn.style.pointerEvents = 'none'; 

            // === –ê–ù–ò–ú–ê–¶–ò–Ø –¢–ï–ö–°–¢–ê ===
            
            // –°—Ç–∞—Ä—Ç (0 —Å–µ–∫)
            drawBtn.innerText = "–í–¥–æ—Ö...";

            // –ß–µ—Ä–µ–∑ 1.5 —Å–µ–∫
            setTimeout(() => {
                drawBtn.innerText = "–í—ã–¥–æ—Ö...";
            }, 1500);

            // –ß–µ—Ä–µ–∑ 3.0 —Å–µ–∫
            setTimeout(() => {
                drawBtn.innerText = "–°–∏–Ω—Ö—Ä–æ–Ω–∏—è...";
            }, 3000);

            // 3. –§–∏–Ω–∞–ª —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                // –í–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –æ–±—Ä–∞—Ç–Ω–æ
                drawBtn.classList.remove('btn-disabled');
                drawBtn.classList.add('btn-primary');
                drawBtn.innerText = originalText;
                drawBtn.style.pointerEvents = 'auto'; 
            }, 4000); 
        }

        // === 3. –†–ê–ù–î–û–ú –ü–û –ó–û–õ–û–¢–û–ú–£ –°–ï–ß–ï–ù–ò–Æ ===
        function goldenRatioRandom(max) {
            // –§–ò–õ–û–°–û–§–ò–Ø: –ë–µ—Ä–µ–º —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –∏ —É–º–Ω–æ–∂–∞–µ–º –Ω–∞ —á–∏—Å–ª–æ –ë–æ–≥–∞ (Phi)
            const phi = 1.618033988749895;
            const now = Date.now();
            
            // –ü–æ–ª—É—á–∞–µ–º –¥—Ä–æ–±–Ω—É—é —á–∞—Å—Ç—å –æ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ Phi
            // –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç "—Ö–∞–æ—Ç–∏—á–Ω–æ–µ", –Ω–æ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 1
            const randomVal = (now * phi) % 1; 

            return Math.floor(randomVal * max);
        }

        // === 4. –¢–Ø–ù–ï–ú –ö–ê–†–¢–£ ===
        function handleDrawClick() {
            // –ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ (–∫–ª–∞—Å—Å disabled), –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º
            if (drawBtn.classList.contains('btn-disabled')) return;

            // 1. –í—ã–±–∏—Ä–∞–µ–º –Ω–æ–≤—É—é –∫–∞—Ä—Ç—É
            const newIndex = goldenRatioRandom(cardsDatabase.length);
            
            // 2. –ê–Ω–∏–º–∞—Ü–∏—è (–µ—Å–ª–∏ –∫–∞—Ä—Ç–∞ —É–∂–µ –±—ã–ª–∞ –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∞, –≤–µ—Ä–Ω–µ–º –Ω–∞–∑–∞–¥)
            if (cardElement.classList.contains('is-flipped')) {
                cardElement.classList.remove('is-flipped');
                setTimeout(() => {
                    performDraw(newIndex); }, 300);
            } else {
                performDraw(newIndex);
            }
        }
        
        function performDraw(index) {
            loadCard(index);
            localStorage.setItem('savedCardIndex', index);
            localStorage.setItem('lastDrawTime', Date.now());
            lockButton(COOLDOWN_MS);
            
            // –ù–û–í–û–ï: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏
            document.getElementById('hintText').style.opacity = '1';
        }

        // === –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ===
        
        function loadCard(index) {
            currentCardIndex = index;
            const card = cardsDatabase[index];
            frontImg.src = 'img/' + card.front;
            backImg.src = 'img/' + card.back;
        }

        function flipCard() {
            cardElement.classList.toggle('is-flipped');
        }

        // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ –∏ –∑–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
        function lockButton(remainingTime) {
            drawBtn.innerText = "–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–æ";
            drawBtn.classList.add('btn-disabled');
            drawBtn.classList.remove('btn-primary');
            
            updateTimer(remainingTime);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–π–º–µ—Ä –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
            const interval = setInterval(() => {
                remainingTime -= 1000;
                if (remainingTime <= 0) {
                    clearInterval(interval);
                    unlockButton();
                } else {
                    updateTimer(remainingTime);
                }
            }, 1000);
        }

        function updateTimer(ms) {
            const hours = Math.floor(ms / (1000 * 60 * 60));
            const minutes = Math.floor((ms % (1000 * 60 * 60)) / (1000 * 60));
            timerDisplay.innerText = `–Ω–æ–≤–∞—è –∏–≥—Ä–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑: ${hours}—á ${minutes}–º`;
        }

        function unlockButton() {
            drawBtn.innerText = "–≤—ã—Ç–∞—â–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É";
            drawBtn.classList.remove('btn-disabled');
            drawBtn.classList.add('btn-primary');
            timerDisplay.innerText = "";
        }
// ==========================================
        // –°–ï–ö–†–ï–¢–ù–´–ô –°–ë–†–û–° (–†–ï–ñ–ò–ú –ê–î–ú–ò–ù–ê)
        // ==========================================
        
        let tapCount = 0;
        let tapTimer = null;

        // –ù–∞–≤–µ—à–∏–≤–∞–µ–º —Å–µ–∫—Ä–µ—Ç –Ω–∞ –±–ª–æ–∫ —Å —Ç–∞–π–º–µ—Ä–æ–º
        timerDisplay.addEventListener('click', function() {
            tapCount++;
            
            // –ï—Å–ª–∏ –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∫–ª–∏–∫–∞–º–∏ –±–æ–ª—å—à–µ 0.5 —Å–µ–∫, —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
            clearTimeout(tapTimer);
            tapTimer = setTimeout(() => { tapCount = 0; }, 500);

            // –ï—Å–ª–∏ –Ω–∞—Å—Ç—É—á–∞–ª 7 —Ä–∞–∑
            if (tapCount >= 7) {
                // 1. –ß–∏—Å—Ç–∏–º –ø–∞–º—è—Ç—å
                localStorage.removeItem('lastDrawTime');
                localStorage.removeItem('savedCardIndex');
                
                // 2. –í–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º
                alert("üõ† –†–ï–ñ–ò–ú –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê: –¢–∞–π–º–µ—Ä —Å–±—Ä–æ—à–µ–Ω!");
                
                // 3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞
                location.reload(); 
            }
        });
    </script>
</body>
</html>
